<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-devel] Character placement Improvement!
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-devel/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Character%20placement%20Improvement%21&In-Reply-To=%3C4796C1EE.4010306%40smartrak.co.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000438.html">
   <LINK REL="Next"  HREF="000443.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-devel] Character placement Improvement!</H1>
    <B>David Leaver</B> 
    <A HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Character%20placement%20Improvement%21&In-Reply-To=%3C4796C1EE.4010306%40smartrak.co.nz%3E"
       TITLE="[Mapnik-devel] Character placement Improvement!">dave at smartrak.co.nz
       </A><BR>
    <I>Wed Jan 23 05:26:22 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000438.html">[Mapnik-devel] Blending error (With Patch)
</A></li>
        <LI>Next message: <A HREF="000443.html">[Mapnik-devel] Character placement Improvement!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#442">[ date ]</a>
              <a href="thread.html#442">[ thread ]</a>
              <a href="subject.html#442">[ subject ]</a>
              <a href="author.html#442">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've written some new character placement code that works better with 
corners (committed in r605).

Basically it calculates the start and end position of the character, 
then calculates the angle between those points.
This means sharp line angle changes no longer make the characters &quot;pop 
out&quot; of the word.

max_char_angle_delta can give slightly different results as now 
character angles are not strict to the angle of the road segments.

Example Images:

New: <A HREF="http://img505.imageshack.us/my.php?image=charplacementnewyi3.png">http://img505.imageshack.us/my.php?image=charplacementnewyi3.png</A>
Old: <A HREF="http://img135.imageshack.us/my.php?image=charplacementoldaa5.png">http://img135.imageshack.us/my.php?image=charplacementoldaa5.png</A>

New: <A HREF="http://img135.imageshack.us/my.php?image=displacementnewkd5.png">http://img135.imageshack.us/my.php?image=displacementnewkd5.png</A>
Old: <A HREF="http://img404.imageshack.us/my.php?image=displacementoldvf2.png">http://img404.imageshack.us/my.php?image=displacementoldvf2.png</A>

New: <A HREF="http://img404.imageshack.us/my.php?image=textspacingnewza6.png">http://img404.imageshack.us/my.php?image=textspacingnewza6.png</A>
Old: <A HREF="http://img293.imageshack.us/my.php?image=textspacingoldwx9.png">http://img293.imageshack.us/my.php?image=textspacingoldwx9.png</A>

Give it a try and give me some feedback :-)

Dave.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000438.html">[Mapnik-devel] Blending error (With Patch)
</A></li>
	<LI>Next message: <A HREF="000443.html">[Mapnik-devel] Character placement Improvement!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#442">[ date ]</a>
              <a href="thread.html#442">[ thread ]</a>
              <a href="subject.html#442">[ subject ]</a>
              <a href="author.html#442">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-devel">More information about the Mapnik-devel
mailing list</a><br>
</body></html>
