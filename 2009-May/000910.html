<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-devel] SRTM data support in mapnik
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-devel/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20SRTM%20data%20support%20in%20mapnik&In-Reply-To=%3CCD6574E0-CB79-493E-B2FE-995A2ECBC896%40cogniance.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000908.html">
   <LINK REL="Next"  HREF="000909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-devel] SRTM data support in mapnik</H1>
    <B>Oleg Shaniuk</B> 
    <A HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20SRTM%20data%20support%20in%20mapnik&In-Reply-To=%3CCD6574E0-CB79-493E-B2FE-995A2ECBC896%40cogniance.com%3E"
       TITLE="[Mapnik-devel] SRTM data support in mapnik">oshaniuk at cogniance.com
       </A><BR>
    <I>Fri May 22 13:59:00 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000908.html">[Mapnik-devel] SRTM data support in mapnik
</A></li>
        <LI>Next message: <A HREF="000909.html">[Mapnik-devel] Map resolution and scaling for high-res output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#910">[ date ]</a>
              <a href="thread.html#910">[ thread ]</a>
              <a href="subject.html#910">[ subject ]</a>
              <a href="author.html#910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dane,

The idea of creating separate plugin was taken to make SRTM as fully  
separate and independent datasource which can be developed without  
affecting other datasources and, respectively, keep mapnik running  
anyway...

--
RO

On May 21, 2009, at 7:27 PM, Dane Springmeyer wrote:

&gt;<i> On May 20, 2009, at 9:09 AM, Oleg Shaniuk wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi All,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm going to share the SRTM plugin for Mapnik which allows to use  
</I>&gt;&gt;<i> NASA's srtm data as source and colourize it via style xml, which,  
</I>&gt;&gt;<i> though, requires adding some symbolizers to mapnik source.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Oleg, this is a great contribution, thanks to you and Matt for  
</I>&gt;<i> posting!
</I>&gt;<i>
</I>&gt;&gt;<i> The plugin still needs a lot of work - it has pretty bad  
</I>&gt;&gt;<i> performance, especially for big bboxes, but we thought it would be  
</I>&gt;&gt;<i> useful to release it anyway.
</I>&gt;<i>
</I>&gt;<i> What was the general reasoning for a separate plugin rather than  
</I>&gt;<i> reading in the SRTM via the GDAL or Raster plugins?
</I>&gt;<i>
</I>&gt;&gt;<i> Hopefully it will be of use for the hill shading features planned  
</I>&gt;&gt;<i> for release 0.7
</I>&gt;<i>
</I>&gt;<i> The hillshading features were included in the previous 0.6.0  
</I>&gt;<i> release, so if this patch works against trunk we should be able to  
</I>&gt;<i> readily test the two together.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So, we presenting it &quot;as is&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The code originally written by Matt Amos (<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">matt at cloudmade.com</A>). I've  
</I>&gt;&gt;<i> made few fixes to it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please feel free to ask questions about the code structure or  
</I>&gt;&gt;<i> algorithms.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Diff is attached and valid for mapnik trunk revision 1150
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> New Files:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> SRTM plugin
</I>&gt;&gt;<i> plugins/input/srtm/SConscript
</I>&gt;&gt;<i> plugins/input/srtm/srtm_datasource.hpp
</I>&gt;&gt;<i> plugins/input/srtm/srtm_datasource.cpp
</I>&gt;&gt;<i> plugins/input/srtm/srtm_featureset.hpp
</I>&gt;&gt;<i> plugins/input/srtm/srtm_featureset.cpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> include/mapnik
</I>&gt;&gt;<i> include/mapnik/colour_map.hpp
</I>&gt;&gt;<i> include/mapnik/height_field_symbolizer.hpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> src
</I>&gt;&gt;<i> src/colour_map.cpp
</I>&gt;&gt;<i> src/height_field_symbolizer.cpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Mapnik changes:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> include/mapnik/polygon_symbolizer.hpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - added polygon_value_symbloizer class
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Symbolizer for polygons with a colour mapped to one of their  
</I>&gt;&gt;<i> properties.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> include/mapnik/value.hpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  - added static_visitor for double
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> include/mapnik/cairo_renderer.hpp
</I>&gt;&gt;<i> src/cairo_renderer.cpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  - added empty methods for drawing polygon_value_symbloizer and  
</I>&gt;&gt;<i> height_field_symbolizer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> include/mapnik/agg_renderer.hpp
</I>&gt;&gt;<i> src/agg_renderer.cpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - added methods for drawing polygon_value_symbloizer and  
</I>&gt;&gt;<i> height_field_symbolizer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> include/mapnik/rule.hpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  - rules for polygon_value_symbloizer and height_field_symbolizer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> src/load_map.cpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  - added methods to parse values for new symbolizers
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> src/save_map.cpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - added empty methods to parse values for new symbolizers
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> src/SConscript
</I>&gt;&gt;<i> - added targets: height_field_symbolizer.cpp and colour_map.cpp
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> SConstruct
</I>&gt;&gt;<i> - added srtm building by default
</I>&gt;&gt;<i> - added libzzip dependency ( for srtm plugin )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> RO
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;mapnik-srtm.patch&gt;_______________________________________________
</I>&gt;&gt;<i> Mapnik-devel mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">Mapnik-devel at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">https://lists.berlios.de/mailman/listinfo/mapnik-devel</A>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-devel/attachments/20090522/08d167fb/attachment.html">https://lists.berlios.de/pipermail/mapnik-devel/attachments/20090522/08d167fb/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000908.html">[Mapnik-devel] SRTM data support in mapnik
</A></li>
	<LI>Next message: <A HREF="000909.html">[Mapnik-devel] Map resolution and scaling for high-res output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#910">[ date ]</a>
              <a href="thread.html#910">[ thread ]</a>
              <a href="subject.html#910">[ subject ]</a>
              <a href="author.html#910">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-devel">More information about the Mapnik-devel
mailing list</a><br>
</body></html>
