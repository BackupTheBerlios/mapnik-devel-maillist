<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-devel] Filter for Null columns in osm.xml?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-devel/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Filter%20for%20Null%20columns%20in%20osm.xml%3F&In-Reply-To=%3C3165e8764f.tom%40loxley.compton.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000526.html">
   <LINK REL="Next"  HREF="000501.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-devel] Filter for Null columns in osm.xml?</H1>
    <B>Tom Hughes</B> 
    <A HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Filter%20for%20Null%20columns%20in%20osm.xml%3F&In-Reply-To=%3C3165e8764f.tom%40loxley.compton.nu%3E"
       TITLE="[Mapnik-devel] Filter for Null columns in osm.xml?">tom at compton.nu
       </A><BR>
    <I>Tue Feb 26 01:13:01 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000526.html">[Mapnik-devel] Filter for Null columns in osm.xml?
</A></li>
        <LI>Next message: <A HREF="000501.html">[Mapnik-devel] comping mapnik viewer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#506">[ date ]</a>
              <a href="thread.html#506">[ thread ]</a>
              <a href="subject.html#506">[ subject ]</a>
              <a href="author.html#506">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In message &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">1203880973.3480.175.camel at localhost.localdomain</A>&gt;
          Jon Burgess &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">jburgess777 at googlemail.com</A>&gt; wrote:

&gt;<i> The bug fix for the handling of NULL columns in r657 has broken part of
</I>&gt;<i> the osm.xml style file. The broken part is an attempts to render
</I>&gt;<i> specific fills for certain building types with a fallback for all other
</I>&gt;<i> cases where building is non-null.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &lt;Filter&gt;[railway] = 'station' or [building] = 'station'&lt;/Filter&gt;
</I>&gt;<i> ... railway station style
</I>&gt;<i> &lt;Filter&gt;[building] = 'supermarket'&lt;/Filter&gt;
</I>&gt;<i> ... supermarket style
</I>&gt;<i> &lt;Filter&gt;[building] &lt;&gt; 'station' and [building] &lt;&gt; 'supermarket' and [building] &lt;&gt; ''&lt;/Filter&gt;
</I>&gt;<i> ... style for all other building types
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> We can not easily use an ElseFilter for this since this style has lots
</I>&gt;<i> of other things being rendered not just buildings.
</I>&gt;<i> 
</I>&gt;<i> Is there another way to specify a filter equivalent to the SQL &quot;is not
</I>&gt;<i> null&quot;, or should &quot;[building] &lt;&gt; ''&quot; be working for this? This used to
</I>&gt;<i> work before the NULL column fix.
</I>
Well at the moment a null column is equivalent to the attribute not
existing for the feature, as the PostGIS input plugin will simply not
assign anything to that attribute.

Normal SQL rules would mean that no ordinary relational condition
would match for a null value - that's the wonder of ternary logic
for you ;-) Hence the special IS NULL and IS NOT NULL conditions
in SQL.

I guess we could have some sort of &quot;attribute exists&quot; test in the
mapnik expression syntax?

Tom

-- 
Tom Hughes (<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">tom at compton.nu</A>)
<A HREF="http://www.compton.nu/">http://www.compton.nu/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000526.html">[Mapnik-devel] Filter for Null columns in osm.xml?
</A></li>
	<LI>Next message: <A HREF="000501.html">[Mapnik-devel] comping mapnik viewer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#506">[ date ]</a>
              <a href="thread.html#506">[ thread ]</a>
              <a href="subject.html#506">[ subject ]</a>
              <a href="author.html#506">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-devel">More information about the Mapnik-devel
mailing list</a><br>
</body></html>
