<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-devel] Osm input plugin
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-devel/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Osm%20input%20plugin&In-Reply-To=%3Cfb9584770912031024p4a8496acoe213e2600dec3086%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000994.html">
   <LINK REL="Next"  HREF="000997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-devel] Osm input plugin</H1>
    <B>Jay Farrimond</B> 
    <A HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Osm%20input%20plugin&In-Reply-To=%3Cfb9584770912031024p4a8496acoe213e2600dec3086%40mail.gmail.com%3E"
       TITLE="[Mapnik-devel] Osm input plugin">jay at farrimond.com
       </A><BR>
    <I>Thu Dec  3 19:24:14 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000994.html">[Mapnik-devel] Scons configure and build speeds
</A></li>
        <LI>Next message: <A HREF="000997.html">[Mapnik-devel] Mapnik build on Python 2.6 for Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#996">[ date ]</a>
              <a href="thread.html#996">[ thread ]</a>
              <a href="subject.html#996">[ subject ]</a>
              <a href="author.html#996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Nick!

As an FYI, I've noticed some strange behavior when using the OSM plugin.  It
has problems with nodes that are single entities, such as : &lt;node id=&quot;1&quot;
lat=&quot;30.0&quot; lon=&quot;-98.0&quot; /&gt;

It only works correctly when all the nodes are presented as such (notice
separate opening and closing entities):
&lt;node id=&quot;1&quot; lat=&quot;30.0&quot; lon=&quot;-98.0&quot;&gt;
&lt;/node&gt;

Delving into the code for that module, it's because in osmparser.cpp nodes
only get added (as cur_item) when an ending element is encountered (via
osmparser::endElement).  Therefore, a string of single-entity nodes will all
be ignored.

I'm using the OSM plugin to render data that I don't keep in a database.
It's easy to convert it from my own format into the OSM format, so I've been
doing that.  It's very handy for that.

BTW, I'm submitting this to the list instead of opening a ticket in Mapnik's
trac system because I'm not sure of your group's do's and don'ts surrounding
ticket creation.  I'll be happy to create a ticket and provide better sample
data if that's appropriate.

Thanks!
Jay Farrimond
www.sabikerides.com

-----------------------------------------------------
Message: 1
Date: Wed, 2 Dec 2009 18:45:29 +0000 (GMT)
From: Nick Whitelegg &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">nick_whitelegg at yahoo.co.uk</A>&gt;
Subject: Re: [Mapnik-devel] Osm input plugin
To: Vladislav Shikhov &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">vladshikhov at gmail.com</A>&gt;
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">mapnik-devel at lists.berlios.de</A>
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">7168.81521.qm at web26605.mail.ukl.yahoo.com</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;

Hi,

As far as I'm aware it should work - I developed it originally though
haven't looked at it for a while. I'll try and get round to writing some
documentation for it in the next week or two - other things (work and
otherwise) keep coming up!

The Map error looks like a general Mapnik issue, not an issue with the osm
plugin.

I don't have any python code but there should be some sample C++ code with
the plugin.

Nick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mapnik-devel/attachments/20091203/db587a72/attachment.html">https://lists.berlios.de/pipermail/mapnik-devel/attachments/20091203/db587a72/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000994.html">[Mapnik-devel] Scons configure and build speeds
</A></li>
	<LI>Next message: <A HREF="000997.html">[Mapnik-devel] Mapnik build on Python 2.6 for Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#996">[ date ]</a>
              <a href="thread.html#996">[ thread ]</a>
              <a href="subject.html#996">[ subject ]</a>
              <a href="author.html#996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-devel">More information about the Mapnik-devel
mailing list</a><br>
</body></html>
