<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-devel] Problems with 'apply alternative method of comparing map and layer bounds to support..'
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-devel/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Problems%20with%20%27apply%20alternative%20method%20of%20comparing%0A%20map%20and%20layer%20bounds%20to%20support..%27&In-Reply-To=%3C4B25212B.5080601%40shaw.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001004.html">
   <LINK REL="Next"  HREF="001005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-devel] Problems with 'apply alternative method of comparing map and layer bounds to support..'</H1>
    <B>David Eastcott</B> 
    <A HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Problems%20with%20%27apply%20alternative%20method%20of%20comparing%0A%20map%20and%20layer%20bounds%20to%20support..%27&In-Reply-To=%3C4B25212B.5080601%40shaw.ca%3E"
       TITLE="[Mapnik-devel] Problems with 'apply alternative method of comparing map and layer bounds to support..'">david.eastcott at shaw.ca
       </A><BR>
    <I>Sun Dec 13 18:15:23 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001004.html">[Mapnik-devel] Couple build issues with trunk 1481
</A></li>
        <LI>Next message: <A HREF="001005.html">[Mapnik-devel] Problems with 'apply alternative method of	comparing map and layer bounds to support..'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1002">[ date ]</a>
              <a href="thread.html#1002">[ thread ]</a>
              <a href="subject.html#1002">[ subject ]</a>
              <a href="author.html#1002">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>While upgrading to 1481 from 1347, I came across a problem with my 
google tile generator producing renderings with missing features (Canada 
was missing) at the highest levels (0-4).  Essentially I was building a 
level 0 tile, 256x256px, with a 128px buffer with the 'world' map.  The 
change introduced in trunk version 1348 was causing the projection of 
the buffer extents to the layer extents to produce bad values 
(pr_transform was returning a good return code) and as a result, some of 
the polygons were being omitted from the rendering.

The map srs was &quot;+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 
+x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs&quot;

and the layer srs was &quot;+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 
+ellps=WGS84 +datum=WGS84 +units=m +no_defs&quot;

There are a number of ways this can be solved outside of mapnik, which I 
have done, but I thought I should pass this on in case others have come 
across it. 

This may be an issue for anyone who is using buffered rendering near or 
on the edges of proj4 ability to transform correctly since the values 
used for the buffer extents may be well outside reasonable values.

Best regards,
Dave

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001004.html">[Mapnik-devel] Couple build issues with trunk 1481
</A></li>
	<LI>Next message: <A HREF="001005.html">[Mapnik-devel] Problems with 'apply alternative method of	comparing map and layer bounds to support..'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1002">[ date ]</a>
              <a href="thread.html#1002">[ thread ]</a>
              <a href="subject.html#1002">[ subject ]</a>
              <a href="author.html#1002">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-devel">More information about the Mapnik-devel
mailing list</a><br>
</body></html>
