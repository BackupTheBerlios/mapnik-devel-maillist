<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-devel] Gentoo ebuild
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-devel/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Gentoo%20ebuild&In-Reply-To=%3C44C4001B.9080106%40fsfe.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000019.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-devel] Gentoo ebuild</H1>
    <B>Federico Fissore</B> 
    <A HREF="mailto:mapnik-devel%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-devel%5D%20Gentoo%20ebuild&In-Reply-To=%3C44C4001B.9080106%40fsfe.org%3E"
       TITLE="[Mapnik-devel] Gentoo ebuild">federico at fsfe.org
       </A><BR>
    <I>Mon Jul 24 01:02:51 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000019.html">[Mapnik-devel] Gentoo ebuild
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20">[ date ]</a>
              <a href="thread.html#20">[ thread ]</a>
              <a href="subject.html#20">[ subject ]</a>
              <a href="author.html#20">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jean-Fran&#231;ois Doyon wrote:
&gt;<i> Federico,
</I>&gt;<i> 
</I>&gt;<i> Excellent!  Always good to have easy ways to install mapnik :)
</I>&gt;<i> 
</I>&gt;<i> Unfortunately, it seems your patches only apply to Gentoo.  I see you've 
</I>&gt;<i> switched fro using PYTHON_PREFIX to PREFIX ... which is bizarre, the 
</I>&gt;<i> python system is fairly strict in it's file system layout.  Why doesn't 
</I>&gt;<i> PYTHON_PREFIX work?
</I>
Indeed it is a gentoo need. For security reasons, afaik gentoo ebuilds 
are made of two main steps. The first one is where your ebuild does the 
job (unpacking, patching, compiling...): in this step you create the 
exact folder tree into a safe sandbox (that is a temp folder), just as 
you were installing on root folder.
The second one is made by the emerge utility that takes your &quot;installed&quot; 
folder tree, reads it, creates a file list and copies it into the root 
folder.
You as the ebuild creator cannot allow your makefiles to write files 
outside the sandbox or emerge will complain interrupting the build process.

&gt;<i> 
</I>&gt;<i> Also, what kind of problems do you get with -O3?
</I>
Absolutely no problem, but in Gentoo things like optimization levels and 
gcc flags are user settings. Anyway this is just a pre-pre-pre-alpha 
ebuild: it compiles what is needed but still misses something (the 
examples, for example, should have a dedicated &quot;use&quot; flag)

&gt;<i> 
</I>&gt;<i> The way you're doing it may be over simplistic however ... I'm not 
</I>&gt;<i> surprised it doesn't work!  That might also generate as rather 
</I>&gt;<i> unintuitive API for the Java programmer.
</I>&gt;<i> 
</I>
Sure of that! I don't know swig but some of its features. I was giving 
it a try and failed :p

&gt;<i> 
</I>&gt;<i> Basically I look at SWIG as a lazy approach ... a little too generic, 
</I>&gt;<i> especially in the OO world.  Have you considered writing a JNI 
</I>&gt;<i> interface?  This would allow a much more java-esque integration I'm 
</I>&gt;<i> betting ... better in the long run.  But then I don't know squat about 
</I>&gt;<i> Java :)
</I>
The main reason I was considering SWIG is for its need of an interface 
file from which it can create bindings for python, java and so on. It 
seems a way to do the things once for all. But I agree it can't be so 
easy and clean. I will take a look at the JNI thing as soon as possible.

Bye

Federico

-- 
:<i> Federico Fissore
</I>:<i>   Blog : <A HREF="http://www.fridrik.it/blog/">http://www.fridrik.it/blog/</A>
</I>:<i> Jabber : <A HREF="https://lists.berlios.de/mailman/listinfo/mapnik-devel">federico at jabber.fsfe.org</A>
</I>---------+-----------------------------------------------------
     []   : &quot;Whatever you do will be insignificant,
   [][][] |        but it is very important that you do it.&quot;
     ||   :                                              Gandhi

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000019.html">[Mapnik-devel] Gentoo ebuild
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20">[ date ]</a>
              <a href="thread.html#20">[ thread ]</a>
              <a href="subject.html#20">[ subject ]</a>
              <a href="author.html#20">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-devel">More information about the Mapnik-devel
mailing list</a><br>
</body></html>
